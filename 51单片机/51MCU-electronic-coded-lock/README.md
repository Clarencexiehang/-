# 单片机实验

## 1.存储器的组成

AT89C51由程序存储器ROM和数据存储器RAM组成。

ROM分为片内和片外

* 片内ROM为4KB，地址范围0000H~0FFFH；

* 片外ROM可扩展到64KB。

  

  RAM可分为片内和片外，

* 片内RAM由128B（00H～7FH）的片内数据寄存器和21个特殊功能寄存器（在80H～FFH中）组成；

* 片外RAM可扩展到64KB。



## 2.比较中断服务程序和子程序调用的相同点和不同点

**相同：**

```
两者都需要保护断点（即下一条指令地址）、跳至子程序或中断服务程序、保护现场、子程序或中断处理、恢复现场、恢复断点（即返回主程序）。
 
两者都可实现嵌套，即正在执行的子程序再调另一子程序或正在处理的中断程序又被另一新中断请求所中断，嵌套可为多级。
```

 

**不同：**

```
服务时间与服务对象不一样。
 
首先，调用子程序过程发生的时间是已知和固定的，即在主程序中的调用指令（CALL）执行时发生主程序调用子程序，调用指令所在位置是已知和固定的。而中断过程发生的时间一般的随机的，CPU在执行某一主程序时收到中断源提出的中断申请时，就发生中断过程，而中断申请一般由硬件电路产生，申请提出时间是随机的（软中断发生时间是固
定的），也可以说，调用子程序是程序设计者事先安排的，而执行中断服务程序是由系统工作环境随机决定的；
 
其次，子程序完全为主程序服务的，两者属于主从关系，主程序需要子程序时就去调用子程序，并把调用结果带回主程序继续执行。而中断服务程序与主程序两者一般是无关的，不存在谁为谁服务的问题，两者是平行关系；
 
第三，主程序调用子程序过程完全属于软件处理过程，不需要专门的硬件电路，而
中断处理系统是一个软、硬件结合系统，需要专门的硬件电路才能完全中断处理的过程。
 
第四，子程序嵌套可实现若干级，嵌套的最多级数
由计算机内存开辟的堆栈大小限制，而中断嵌套级数主要由中断优先级数来决定，一般优先级数不会很大。
```



